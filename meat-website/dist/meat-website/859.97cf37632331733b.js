"use strict";(self.webpackChunkmeat_website=self.webpackChunkmeat_website||[]).push([[859],{2859:(C,l,i)=>{i.r(l),i.d(l,{AdminLoginComponent:()=>h});var m=i(177),e=i(8326),n=i(5345),b=i(4796),u=i(2522);function _(o,g){if(1&o&&(n.j41(0,"div",18),n.EFF(1),n.k0s()),2&o){const t=n.XpG();n.R7$(1),n.SpI(" ",t.error," ")}}function f(o,g){1&o&&(n.j41(0,"div",19),n.EFF(1," Please enter a valid email address "),n.k0s())}function p(o,g){1&o&&(n.j41(0,"div",19),n.EFF(1," Password must be at least 6 characters long "),n.k0s())}let h=(()=>{class o{constructor(t,a){this.authService=t,this.router=a,this.email="",this.password="",this.isLoading=!1,this.error=""}onSubmit(){this.error="",this.isLoading=!0,this.authService.login(this.email,this.password).subscribe({next:t=>{"admin"===t.user.role?this.router.navigate(["/admin"]):(this.error="Access denied: Not an admin account.",this.authService.logout()),this.isLoading=!1},error:t=>{this.error=t.message||"Login failed",this.isLoading=!1}})}static{this.\u0275fac=function(a){return new(a||o)(n.rXU(b.u),n.rXU(u.Ix))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-admin-login"]],standalone:!0,features:[n.aNF],decls:24,vars:7,consts:[[1,"container","my-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["passwordInput","ngModel"],["type","submit",1,"btn","btn-brown","w-100","mb-3",3,"disabled"],[1,"alert","alert-danger"],[1,"text-danger"]],template:function(a,r){if(1&a&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),n.EFF(6,"Admin Login"),n.k0s(),n.DNE(7,_,2,1,"div",6),n.j41(8,"form",7,8),n.bIt("ngSubmit",function(){return r.onSubmit()}),n.j41(10,"div",9)(11,"label",10),n.EFF(12,"Email address"),n.k0s(),n.j41(13,"input",11,12),n.bIt("ngModelChange",function(s){return r.email=s}),n.k0s(),n.DNE(15,f,2,0,"div",13),n.k0s(),n.j41(16,"div",9)(17,"label",14),n.EFF(18,"Password"),n.k0s(),n.j41(19,"input",15,16),n.bIt("ngModelChange",function(s){return r.password=s}),n.k0s(),n.DNE(21,p,2,0,"div",13),n.k0s(),n.j41(22,"button",17),n.EFF(23),n.k0s()()()()()()()),2&a){const d=n.sdS(9),s=n.sdS(14),c=n.sdS(20);n.R7$(7),n.Y8G("ngIf",r.error),n.R7$(6),n.Y8G("ngModel",r.email),n.R7$(2),n.Y8G("ngIf",s.invalid&&s.touched),n.R7$(4),n.Y8G("ngModel",r.password),n.R7$(2),n.Y8G("ngIf",c.invalid&&c.touched),n.R7$(1),n.Y8G("disabled",d.invalid||r.isLoading),n.R7$(1),n.SpI(" ",r.isLoading?"Logging in...":"Login as Admin"," ")}},dependencies:[m.MD,m.bT,e.YN,e.qT,e.me,e.BC,e.cb,e.YS,e.xh,e.Dg,e.vS,e.cV],styles:[".text-brown[_ngcontent-%COMP%]{color:#e31837}.btn-brown[_ngcontent-%COMP%]{background-color:#e31837;color:#fff;transition:background-color .3s ease}.btn-brown[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#c41530;color:#fff}.btn-brown[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.card[_ngcontent-%COMP%]{border-radius:10px;border:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#e31837;box-shadow:0 0 0 .2rem #e3183740}h2[_ngcontent-%COMP%]{color:#e31837;font-weight:700;margin-bottom:28px;text-align:center;font-size:2rem}.form-label[_ngcontent-%COMP%]{color:#444;font-weight:500;margin-bottom:6px}.form-control[_ngcontent-%COMP%]{border-radius:8px;padding:12px;font-size:1rem;border:1px solid #ddd;transition:border-color .3s,box-shadow .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#e31837;box-shadow:0 0 0 2px #e318371a}.btn-brown[_ngcontent-%COMP%]{background:#E31837;color:#fff;border-radius:8px;font-weight:600;font-size:1.1rem;padding:14px 0;margin-top:10px;transition:background .2s,box-shadow .2s,transform .2s;box-shadow:0 2px 8px #e3183714}.btn-brown[_ngcontent-%COMP%]:hover:not(:disabled){background:#c41530;box-shadow:0 4px 16px #e3183724;transform:translateY(-2px) scale(1.03)}.btn-brown[_ngcontent-%COMP%]:disabled{background:#ccc;color:#fff;cursor:not-allowed;box-shadow:none}.alert-danger[_ngcontent-%COMP%]{border-radius:8px;font-size:.98rem;margin-bottom:18px}.text-center[_ngcontent-%COMP%]{text-align:center}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.my-5[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:2.5rem}.w-100[_ngcontent-%COMP%]{width:100%}@media (max-width: 600px){h2[_ngcontent-%COMP%]{font-size:1.4rem}}"]})}}return o})()}}]);