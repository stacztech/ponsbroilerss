"use strict";(self.webpackChunkmeat_website=self.webpackChunkmeat_website||[]).push([[82],{2082:(b,s,d)=>{d.r(s),d.d(s,{AdminOrderDetailComponent:()=>f});var o=d(177),e=d(5345),c=d(2522),l=d(7519);function m(r,a){if(1&r&&(e.j41(0,"div",12),e.nrm(1,"img",13),e.j41(2,"div",14)(3,"div",15),e.EFF(4),e.k0s(),e.j41(5,"div",16),e.EFF(6),e.k0s()(),e.j41(7,"div",17),e.EFF(8),e.k0s(),e.j41(9,"div",18),e.EFF(10),e.k0s()()),2&r){const t=a.$implicit;e.R7$(1),e.Y8G("src",t.image,e.B4B)("alt",t.name),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.weight),e.R7$(2),e.Lme("\u20b9",t.price," \xd7 ",t.quantity,""),e.R7$(2),e.SpI("\u20b9",t.price*t.quantity,"")}}function p(r,a){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.markAsDelivered())}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.isUpdating),e.R7$(1),e.SpI(" ",t.isUpdating?"Updating...":"Mark as Delivered"," ")}}const g=function(r,a){return{"status-pending":r,"status-delivered":a}};function u(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"span",4),e.EFF(5),e.nI1(6,"titlecase"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"h4"),e.EFF(11,"Items"),e.k0s(),e.DNE(12,m,11,7,"div",6),e.j41(13,"h4"),e.EFF(14,"Delivery Details"),e.k0s(),e.j41(15,"div",7)(16,"div")(17,"b"),e.EFF(18),e.k0s()(),e.j41(19,"div"),e.EFF(20),e.k0s(),e.j41(21,"div"),e.EFF(22),e.k0s(),e.j41(23,"div"),e.EFF(24),e.k0s(),e.j41(25,"div"),e.EFF(26),e.k0s()(),e.j41(27,"h4"),e.EFF(28,"Order Summary"),e.k0s(),e.j41(29,"div",8)(30,"div"),e.EFF(31,"Total Amount: "),e.j41(32,"b"),e.EFF(33),e.k0s()(),e.j41(34,"div"),e.EFF(35,"Payment Method: "),e.j41(36,"b"),e.EFF(37),e.nI1(38,"titlecase"),e.k0s()(),e.j41(39,"div"),e.EFF(40,"Order Date: "),e.j41(41,"b"),e.EFF(42),e.nI1(43,"date"),e.k0s()(),e.j41(44,"div"),e.EFF(45,"Expected Delivery: "),e.j41(46,"b"),e.EFF(47),e.nI1(48,"date"),e.k0s()()(),e.j41(49,"div",9),e.DNE(50,p,2,2,"button",10),e.j41(51,"button",11),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.goBack())}),e.EFF(52,"Back to Orders"),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(3),e.SpI("Order #",t.order.id,""),e.R7$(1),e.Y8G("ngClass",e.l_i(29,g,"pending"===t.order.status,"delivered"===t.order.status)),e.R7$(1),e.JRh(e.bMT(6,16,t.order.status)),e.R7$(3),e.JRh(e.i5U(9,18,t.order.orderDate,"medium")),e.R7$(4),e.Y8G("ngForOf",t.order.items),e.R7$(6),e.JRh(t.order.deliveryDetails.fullName),e.R7$(2),e.JRh(t.order.deliveryDetails.phoneNumber),e.R7$(2),e.JRh(t.order.deliveryDetails.addressLine1),e.R7$(2),e.Lme("",t.order.deliveryDetails.city,", ",t.order.deliveryDetails.state,""),e.R7$(2),e.SpI("PIN: ",t.order.deliveryDetails.pincode,""),e.R7$(7),e.SpI("\u20b9",t.order.total,""),e.R7$(4),e.JRh(e.bMT(38,21,t.order.paymentMethod)),e.R7$(5),e.JRh(e.i5U(43,23,t.order.orderDate,"mediumDate")),e.R7$(5),e.JRh(e.i5U(48,26,t.order.expectedDeliveryDate,"mediumDate")),e.R7$(3),e.Y8G("ngIf","delivered"!==t.order.status)}}function _(r,a){1&r&&(e.j41(0,"div",20),e.EFF(1,"Order not found."),e.k0s())}let f=(()=>{class r{constructor(t,n,i){this.route=t,this.ordersService=n,this.router=i,this.isUpdating=!1}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.ordersService.getOrderById(t).subscribe(n=>{this.order=n.order})}markAsDelivered(){this.order&&(this.isUpdating=!0,this.ordersService.updateOrderStatus(this.order.id,"delivered").subscribe({next:()=>{this.order.status="delivered",this.isUpdating=!1},error:()=>{this.isUpdating=!1}}))}goBack(){this.router.navigate(["/admin/orders"])}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(c.nX),e.rXU(l.B),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-admin-order-detail"]],standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["class","order-detail-card",4,"ngIf"],["class","order-not-found",4,"ngIf"],[1,"order-detail-card"],[1,"order-header"],[1,"status-badge",3,"ngClass"],[1,"order-date"],["class","order-item",4,"ngFor","ngForOf"],[1,"delivery-details"],[1,"order-summary"],[1,"order-actions"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"order-item"],[1,"item-img",3,"src","alt"],[1,"item-info"],[1,"item-name"],[1,"item-weight"],[1,"item-price"],[1,"item-total"],[1,"btn","btn-success",3,"disabled","click"],[1,"order-not-found"]],template:function(n,i){1&n&&(e.DNE(0,u,53,32,"div",0),e.DNE(1,_,2,0,"div",1)),2&n&&(e.Y8G("ngIf",i.order),e.R7$(1),e.Y8G("ngIf",!i.order))},dependencies:[o.MD,o.YU,o.Sq,o.bT,o.PV,o.vh],styles:[".order-detail-card[_ngcontent-%COMP%]{max-width:600px;margin:32px auto;background:#fff;border-radius:12px;box-shadow:0 4px 24px #00000012;padding:32px}.order-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;margin-bottom:18px;flex-wrap:wrap}.status-badge[_ngcontent-%COMP%]{padding:6px 18px;border-radius:8px;font-weight:600;font-size:1rem}.status-pending[_ngcontent-%COMP%]{background:#ffe066;color:#7a5c00}.status-delivered[_ngcontent-%COMP%]{background:#b6fcb6;color:#1a7a1a}.order-date[_ngcontent-%COMP%]{margin-left:auto;color:#888;font-size:.98rem}.order-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;border-bottom:1px solid #eee;padding:12px 0;flex-wrap:wrap}.item-img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px}.item-info[_ngcontent-%COMP%]{flex:1;min-width:120px}.item-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.item-weight[_ngcontent-%COMP%]{color:#888;font-size:.98rem}.item-price[_ngcontent-%COMP%], .item-total[_ngcontent-%COMP%]{min-width:90px;text-align:right}.delivery-details[_ngcontent-%COMP%]{background:#fafbfc;border-radius:8px;padding:16px;margin-bottom:18px}.order-summary[_ngcontent-%COMP%]{margin-bottom:18px}.order-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:16px}.btn[_ngcontent-%COMP%]{padding:10px 24px;border-radius:8px;font-size:1rem;font-weight:600}.btn-success[_ngcontent-%COMP%]{background:#1a7a1a;color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:disabled{background:#b6fcb6;color:#1a7a1a}.btn-secondary[_ngcontent-%COMP%]{background:#eee;color:#333;border:none}.order-not-found[_ngcontent-%COMP%]{text-align:center;color:#d02653;font-size:1.2rem;margin-top:60px}@media (max-width: 700px){.order-detail-card[_ngcontent-%COMP%]{padding:10px;border-radius:8px}.order-header[_ngcontent-%COMP%], .order-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.item-img[_ngcontent-%COMP%]{width:48px;height:48px}.order-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.btn[_ngcontent-%COMP%]{width:100%}}"]})}}return r})()}}]);