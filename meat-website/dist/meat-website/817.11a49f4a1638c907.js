"use strict";(self.webpackChunkmeat_website=self.webpackChunkmeat_website||[]).push([[817],{2817:(w,l,i)=>{i.r(l),i.d(l,{ResetPasswordComponent:()=>h});var u=i(177),a=i(8326),d=i(2522),s=i(5345),m=i(4796);function _(e,c){1&e&&(s.j41(0,"div",8),s.EFF(1," Your password has been successfully reset. "),s.j41(2,"a",9),s.EFF(3,"Click here to login"),s.k0s()())}function f(e,c){1&e&&(s.j41(0,"div",22),s.EFF(1," Password must be at least 6 characters long "),s.k0s())}function g(e,c){1&e&&(s.j41(0,"div",22),s.EFF(1," Passwords do not match "),s.k0s())}function p(e,c){if(1&e){const o=s.RV6();s.j41(0,"form",10,11),s.bIt("ngSubmit",function(){s.eBV(o);const t=s.XpG();return s.Njj(t.onSubmit())}),s.j41(2,"div",12)(3,"label",13),s.EFF(4,"New Password"),s.k0s(),s.j41(5,"input",14,15),s.bIt("ngModelChange",function(t){s.eBV(o);const r=s.XpG();return s.Njj(r.password=t)}),s.k0s(),s.DNE(7,f,2,0,"div",16),s.k0s(),s.j41(8,"div",17)(9,"label",18),s.EFF(10,"Confirm Password"),s.k0s(),s.j41(11,"input",19,20),s.bIt("ngModelChange",function(t){s.eBV(o);const r=s.XpG();return s.Njj(r.confirmPassword=t)}),s.k0s(),s.DNE(13,g,2,0,"div",16),s.k0s(),s.j41(14,"button",21),s.EFF(15),s.k0s()()}if(2&e){const o=s.sdS(1),n=s.sdS(6),t=s.sdS(12),r=s.XpG();s.R7$(5),s.Y8G("ngModel",r.password),s.R7$(2),s.Y8G("ngIf",n.invalid&&n.touched),s.R7$(4),s.AVh("is-invalid",!r.passwordsMatch()&&t.touched),s.Y8G("ngModel",r.confirmPassword),s.R7$(2),s.Y8G("ngIf",!r.passwordsMatch()&&t.touched),s.R7$(1),s.Y8G("disabled",o.invalid||!r.passwordsMatch()||r.isLoading),s.R7$(1),s.SpI(" ",r.isLoading?"Resetting Password...":"Reset Password"," ")}}let h=(()=>{class e{constructor(o,n,t){this.authService=o,this.router=n,this.route=t,this.password="",this.confirmPassword="",this.isLoading=!1,this.resetSuccess=!1,this.resetToken=""}ngOnInit(){this.route.params.subscribe(o=>{this.resetToken=o.token,console.log(this.resetToken),this.resetToken||this.router.navigate(["/forgot-password"])})}passwordsMatch(){return this.password===this.confirmPassword}onSubmit(){this.password&&this.passwordsMatch()&&(this.isLoading=!0,this.authService.resetPassword(this.resetToken,this.password).subscribe({next:()=>{this.resetSuccess=!0,this.isLoading=!1},error:o=>{console.error("Password reset failed:",o),this.isLoading=!1}}))}static{this.\u0275fac=function(n){return new(n||e)(s.rXU(m.u),s.rXU(d.Ix),s.rXU(d.nX))}}static{this.\u0275cmp=s.VBU({type:e,selectors:[["app-reset-password"]],standalone:!0,features:[s.aNF],decls:9,vars:2,consts:[[1,"container","my-5"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-5"],[1,"card","shadow"],[1,"card-body","p-5"],[1,"text-center","mb-4"],["class","alert alert-success",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-success"],["routerLink","/login",1,"d-block","mt-2"],[3,"ngSubmit"],["resetForm","ngForm"],[1,"mb-3"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6",1,"form-control",3,"ngModel","ngModelChange"],["passwordInput","ngModel"],["class","text-danger",4,"ngIf"],[1,"mb-4"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"form-control",3,"ngModel","ngModelChange"],["confirmPasswordInput","ngModel"],["type","submit",1,"btn","btn-brown","w-100","mb-3",3,"disabled"],[1,"text-danger"]],template:function(n,t){1&n&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),s.EFF(6,"Reset Password"),s.k0s(),s.DNE(7,_,4,0,"div",6),s.DNE(8,p,16,8,"form",7),s.k0s()()()()()),2&n&&(s.R7$(7),s.Y8G("ngIf",t.resetSuccess),s.R7$(1),s.Y8G("ngIf",!t.resetSuccess))},dependencies:[u.MD,u.bT,a.YN,a.qT,a.me,a.BC,a.cb,a.YS,a.xh,a.vS,a.cV,d.Wk],styles:[".text-brown[_ngcontent-%COMP%]{color:#8b4513}.btn-brown[_ngcontent-%COMP%]{background-color:#8b4513;color:#fff;transition:background-color .3s ease}.btn-brown[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#693610;color:#fff}.btn-brown[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.card[_ngcontent-%COMP%]{border-radius:10px;border:none}.form-control[_ngcontent-%COMP%]:focus{border-color:#8b4513;box-shadow:0 0 0 .2rem #8b451340}.alert[_ngcontent-%COMP%]{border-radius:8px}.alert[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:underline}"]})}}return e})()}}]);